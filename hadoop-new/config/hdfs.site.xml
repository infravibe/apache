<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration>
    <!-- Set replication factor to 2 for HA -->
    <property>
        <n>dfs.replication</n>
        <value>2</value>
    </property>

    <!-- NameNode configuration -->
    <property>
        <n>dfs.namenode.rpc-address</n>
        <value>namenode:9820</value>
    </property>

    <property>
        <n>dfs.namenode.http-address</n>
        <value>namenode:9870</value>
    </property>

    <property>
        <n>dfs.namenode.name.dir</n>
        <value>file:///hadoop/dfs/name</value>
    </property>

    <!-- DataNode configuration -->
    <property>
        <n>dfs.datanode.data.dir</n>
        <value>file:///hadoop/dfs/data</value>
    </property>

    <property>
        <n>dfs.datanode.http.address</n>
        <value>0.0.0.0:9864</value>
    </property>

    <property>
        <n>dfs.datanode.address</n>
        <value>0.0.0.0:9866</value>
    </property>

    <property>
        <n>dfs.datanode.ipc.address</n>
        <value>0.0.0.0:9867</value>
    </property>

    <!-- Enable WebHDFS for REST API access -->
    <property>
        <n>dfs.webhdfs.enabled</n>
        <value>true</value>
    </property>

    <!-- DataNode hostname configuration for external access -->
    <property>
        <n>dfs.datanode.use.datanode.hostname</n>
        <value>false</value>
    </property>

    <!-- Enable file permissions (set to false for development ease) -->
    <property>
        <n>dfs.permissions.enabled</n>
        <value>false</value>
    </property>

    <!-- Set block size (128MB default) -->
    <property>
        <n>dfs.blocksize</n>
        <value>134217728</value>
    </property>

    <!-- Minimum number of replicas for write -->
    <property>
        <n>dfs.namenode.replication.min</n>
        <value>1</value>
    </property>

    <!-- Maximum number of replicas -->
    <property>
        <n>dfs.replication.max</n>
        <value>3</value>
    </property>

    <!-- Safe mode configuration -->
    <property>
        <n>dfs.safemode.threshold.pct</n>
        <value>0.999f</value>
    </property>

    <!-- DataNode heartbeat interval -->
    <property>
        <n>dfs.heartbeat.interval</n>
        <value>3</value>
    </property>

    <!-- Enable trash -->
    <property>
        <n>fs.trash.interval</n>
        <value>1440</value>
    </property>

    <!-- WebHDFS REST API -->
    <property>
        <n>dfs.namenode.http-bind-host</n>
        <value>0.0.0.0</value>
    </property>

    <!-- Secondary NameNode configuration -->
    <property>
        <n>dfs.namenode.secondary.http-address</n>
        <value>namenode:9868</value>
    </property>
</configuration>