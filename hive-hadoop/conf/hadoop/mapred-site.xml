<?xml version="1.0"?>
<configuration>
  <!-- Framework Configuration -->
  <property>
    <n>mapreduce.framework.name</n>
    <value>yarn</value>
    <description>MapReduce framework name</description>
  </property>

  <!-- JobHistory Server Configuration -->
  <property>
    <n>mapreduce.jobhistory.address</n>
    <value>historyserver:10020</value>
    <description>JobHistory server address</description>
  </property>

  <property>
    <n>mapreduce.jobhistory.webapp.address</n>
    <value>historyserver:19888</value>
    <description>JobHistory server web UI address</description>
  </property>

  <property>
    <n>mapreduce.jobhistory.intermediate-done-dir</n>
    <value>hdfs://namenode:9000/mr-history/tmp</value>
    <description>Intermediate done directory</description>
  </property>

  <property>
    <n>mapreduce.jobhistory.done-dir</n>
    <value>hdfs://namenode:9000/mr-history/done</value>
    <description>Done directory</description>
  </property>

  <!-- Memory Configuration -->
  <property>
    <n>mapreduce.map.memory.mb</n>
    <value>512</value>
    <description>Memory for map tasks</description>
  </property>

  <property>
    <n>mapreduce.reduce.memory.mb</n>
    <value>1024</value>
    <description>Memory for reduce tasks</description>
  </property>

  <property>
    <n>mapreduce.map.java.opts</n>
    <value>-Xmx384m</value>
    <description>Java opts for map tasks</description>
  </property>

  <property>
    <n>mapreduce.reduce.java.opts</n>
    <value>-Xmx768m</value>
    <description>Java opts for reduce tasks</description>
  </property>

  <!-- Application Master Configuration -->
  <property>
    <n>yarn.app.mapreduce.am.resource.mb</n>
    <value>512</value>
    <description>Application Master memory</description>
  </property>

  <property>
    <n>yarn.app.mapreduce.am.resource.cpu-vcores</n>
    <value>1</value>
    <description>Application Master CPU cores</description>
  </property>

  <property>
    <n>yarn.app.mapreduce.am.command-opts</n>
    <value>-Xmx384m</value>
    <description>Application Master command options</description>
  </property>

  <!-- Environment Variables -->
  <property>
    <n>yarn.app.mapreduce.am.env</n>
    <value>HADOOP_MAPRED_HOME=/opt/hadoop</value>
    <description>Application Master environment</description>
  </property>

  <property>
    <n>mapreduce.map.env</n>
    <value>HADOOP_MAPRED_HOME=/opt/hadoop</value>
    <description>Map task environment</description>
  </property>

  <property>
    <n>mapreduce.reduce.env</n>
    <value>HADOOP_MAPRED_HOME=/opt/hadoop</value>
    <description>Reduce task environment</description>
  </property>

  <!-- Compression Configuration -->
  <property>
    <n>mapreduce.map.output.compress</n>
    <value>true</value>
    <description>Enable map output compression</description>
  </property>

  <property>
    <n>mapreduce.map.output.compress.codec</n>
    <value>org.apache.hadoop.io.compress.SnappyCodec</value>
    <description>Map output compression codec</description>
  </property>

  <property>
    <n>mapreduce.output.fileoutputformat.compress</n>
    <value>false</value>
    <description>Enable job output compression</description>
  </property>

  <!-- Performance Tuning -->
  <property>
    <n>mapreduce.task.io.sort.mb</n>
    <value>128</value>
    <description>Sort buffer size</description>
  </property>

  <property>
    <n>mapreduce.task.io.sort.factor</n>
    <value>10</value>
    <description>Sort factor</description>
  </property>

  <property>
    <n>mapreduce.reduce.shuffle.parallelcopies</n>
    <value>5</value>
    <description>Parallel copies during shuffle</description>
  </property>

  <!-- Child Process Configuration -->
  <property>
    <n>mapreduce.task.timeout</n>
    <value>600000</value>
    <description>Task timeout in milliseconds</description>
  </property>

  <property>
    <n>mapreduce.client.submit.file.replication</n>
    <value>1</value>
    <description>Job file replication</description>
  </property>
</configuration>
